#!/bin/bash

# ================================================================== #
#                                   db                               #
#                                                                    #
#                ,p6"bo   ,6"Yb.  `7MM  `7MMpMMMb.                   #
#               6M'  OO  8)   MM    MM    MM    MM                   #
#               8M        ,pm9MM    MM    MM    MM                   #
#               YM.    , 8M   MM    MM    MM    MM                   #
#                YMbmd'  `Moo9^Yo..JMML..JMML  JMML.                 #
#                                                                    #
# ================================================================== #
#     This Program Was Made January 2025 By Rhett Applestone         #
#                                                                    #
#                            MIT License                             #
#                Copyright (c) 2025 Rhett Applestone                 #
# ================================================================== #




# ==================== Making the cli look nice ==================== #
cat files/cai
# ====================== Collecting Files ========================== #

# Collecting .bashrc and error handling
cp ~/.bashrc ~/cain/files/dotfiles
if [ $? -eq 0 ]; then
	echo -e ".bashrc collected successfully\n"
else
	echo "Error has occured collecting .bashrc" && exit 1

fi

# Collecting configs for cinnamon desktop enviornment and error handling
dconf dump / > ~/cain/files/cinnamon/cinnamon-settings
if [ $? -eq 0 ]; then
	echo -e "cinnamon settings collected successfully\n"
else
	echo "Error has occured collecting cinnamon settings" && exit 1

fi

# Collecting keybindings for input-remapper and error handling
cp ~/.config/input-remapper-2/presets/AT\ Translated\ Set\ 2\ keyboard/rhett-keybindings.json ~/cain/files/input-remapper
if [ $? -eq 0 ]; then
	echo -e "Input-remapper keybindings colected successfully\n"
else
	echo "Error has occured collecting input-remapper keybindings" && exit 1

fi

# Collecting configs for input-remapper and error handling
cp ~/.config/input-remapper-2/config.json ~/cain/files/input-remapper
if [ $? -eq 0 ]; then
	echo -e "Input remapper config collected successfully\n"
else
	echo "Error has occured collecting input-remapper config" && exit 1

fi
# Collecting micro key bindings and error handling
cp ~/.config/micro/bindings.json ~/cain/files/micro
if [ $? -eq 0 ]; then
	echo -e "Micro keybindings collected successfully\n"
else
	echo "Error has occured collecting micro key bindings" && exit 1

fi


# ================== Committing files with git ===================== #

cd ~/cain
git add .
git commit -m "cain: configs have been updated"

#Optional line if you want to push the repo every time, remove "#" before git push
#git push

# ================================================================== #




